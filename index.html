<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SkillUp | Online Learning Platform</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
    --primary: #4361ee;
    --primary-dark: #3a0ca3;
    --secondary: #f72585;
    --dark: #1a1a2e;
    --light: #f8f9fa;
    --gray: #6c757d;
    --success: #4bb543;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: 'Inter', sans-serif; line-height: 1.6; color: var(--dark); background-color: var(--light); }
.container { width: 90%; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
.hero { background: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%); color: white; padding: 100px 0; text-align: center; }
.hero h1 { font-size: 2.8rem; margin-bottom: 1rem; line-height: 1.2; }
.hero p { font-size: 1.2rem; margin-bottom: 2rem; opacity: 0.9; }
.cta-buttons { display: flex; gap: 1rem; justify-content: center; margin-bottom: 3rem; }
.btn { display: inline-flex; align-items: center; gap: 8px; padding: 12px 24px; border-radius: 50px; font-weight: 600; text-decoration: none; transition: all 0.3s ease; }
.btn-primary { background: white; color: var(--primary); }
.btn-primary:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
.btn-outline { border: 2px solid white; color: white; }
.btn-outline:hover { background: rgba(255,255,255,0.1); }
.overall-progress-container { background: #e0e0e0; border-radius: 5px; height: 20px; width: 90%; max-width: 1200px; margin: 20px auto; }
.overall-progress { width: 0%; height: 100%; background: var(--primary); border-radius: 5px; transition: width 0.5s ease; }
.courses-section { padding: 80px 0; background: #f8fafc; }
.section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem; }
.section-title { font-size: 2rem; color: var(--dark); }
.view-all { color: var(--primary); text-decoration: none; font-weight: 600; display: flex; align-items: center; gap: 5px; }
.course-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 2rem; }
.course-card { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: transform 0.3s ease; cursor: pointer; display: flex; flex-direction: column; }
.course-card:hover { transform: translateY(-10px); box-shadow: 0 15px 30px rgba(0,0,0,0.1); }
.course-img { height: 180px; overflow: hidden; background: #f1f5f9; }
.course-img img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease; }
.course-card:hover .course-img img { transform: scale(1.05); }
.course-content { padding: 1.5rem; display: flex; flex-direction: column; gap: 10px; }
.course-title { font-size: 1.2rem; font-weight: 600; }
.course-instructor { color: var(--gray); font-size: 0.9rem; }
.course-meta { display: flex; justify-content: space-between; color: var(--gray); font-size: 0.9rem; }
.rating { color: #f8c51a; font-weight: 500; }
.progress-bar { width: 100%; background: #e0e0e0; border-radius: 5px; height: 15px; }
.progress { width: 0%; height: 100%; background: var(--success); border-radius: 5px; transition: width 0.5s ease; }
.course-card.completed .course-title { text-decoration: line-through; color: gray; }
.course-video iframe { width: 100%; height: 180px; border-radius: 8px; margin-top: 10px; }
@media (max-width: 768px) {
    .hero { padding: 80px 0; }
    .hero h1 { font-size: 2rem; }
    .cta-buttons { flex-direction: column; align-items: center; }
    .course-grid { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<!-- Hero Section -->
<section class="hero">
    <div class="container">
        <h1>Advance Your Career with Interactive Learning</h1>
        <p>Join 250,000+ students mastering in-demand skills</p>
        <div class="cta-buttons">
            <a href="courses.html" class="btn btn-primary"><i class="fas fa-search"></i> Browse Courses</a>
            <a href="#how-it-works" class="btn btn-outline"><i class="fas fa-play-circle"></i> How It Works</a>
        </div>
    </div>
</section>

<!-- Overall Progress -->
<div class="overall-progress-container">
    <div class="overall-progress" id="overall-progress"></div>
</div>

<!-- Courses Section -->
<section class="courses-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Popular Courses</h2>
            <a href="courses.html" class="view-all">View All <i class="fas fa-arrow-right"></i></a>
        </div>
        <div class="course-grid" id="popular-courses">
            <!-- Dynamic courses will load here -->
        </div>
    </div>
</section>

<script>
// Fetch courses and render cards
fetch('courses.json')
.then(res => res.json())
.then(data => {
    const courseGrid = document.getElementById('popular-courses');
    let completedCount = 0;

    data.forEach(course => {
        const courseId = String(course.id);
        const courseCard = document.createElement('div');
        courseCard.classList.add('course-card');

        // Click card to open course-single.html
        courseCard.onclick = () => window.location.href = `course-single.html?id=${courseId}`;

        // Course content with video and progress
        courseCard.innerHTML = `
            <div class="course-img">
                <img src="assets/images/${course.image}" alt="${course.title}" loading="lazy">
            </div>
            <div class="course-content">
                <h3 class="course-title">${course.title}</h3>
                <p class="course-instructor">${course.instructor}</p>
                <div class="course-meta">
                    <span class="rating"><i class="fas fa-star"></i> ${course.rating}</span>
                    <span>${course.level}</span>
                </div>
                <div class="course-video">
                    <iframe src="${course.video}" title="${course.title} Preview" frameborder="0" allowfullscreen></iframe>
                </div>
                <div class="progress-bar">
                    <div class="progress" id="progress-${courseId}"></div>
                </div>
                <button onclick="markComplete('${courseId}', event)">Mark as Complete</button>
            </div>
        `;

        courseGrid.appendChild(courseCard);

        // Restore progress if previously completed
        if(localStorage.getItem(courseId) === 'completed') {
            const progress = document.getElementById(`progress-${courseId}`);
            if(progress) progress.style.width = '100%';
            courseCard.classList.add('completed');
            completedCount++;
        }
    });

    // Update overall progress bar
    const overall = document.getElementById('overall-progress');
    overall.style.width = `${Math.round((completedCount / data.length) * 100)}%`;
})
.catch(err => console.error('Error loading courses:', err));

// Mark course complete
function markComplete(courseId, event) {
    event.stopPropagation(); // Prevent card click redirect
    const id = String(courseId);
    const progress = document.getElementById(`progress-${id}`);
    if(!progress) return;
    progress.style.width = '100%';
    const cardButton = document.querySelector(`.course-card button[onclick*="${id}"]`);
    if(cardButton) {
        const card = cardButton.closest('.course-card');
        card.classList.add('completed');
    }
    localStorage.setItem(id, 'completed');

    // Update overall progress bar
    const allCourses = document.querySelectorAll('.course-card');
    const completed = document.querySelectorAll('.course-card.completed');
    const overall = document.getElementById('overall-progress');
    overall.style.width = `${Math.round((completed.length / allCourses.length) * 100)}%`;
}
</script>

</body>
</html>
